{"version":3,"file":"js/Power.41d179a9.js","mappings":"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","sources":["webpack://vue_shop_project/./src/components/power/Rights.vue","webpack://vue_shop_project/src/components/power/Rights.vue","webpack://vue_shop_project/./src/components/power/Rights.vue?19eb","webpack://vue_shop_project/./src/components/power/Rights.vue?122c","webpack://vue_shop_project/./src/components/power/Roles.vue","webpack://vue_shop_project/src/components/power/Roles.vue","webpack://vue_shop_project/./src/components/power/Roles.vue?fd0e","webpack://vue_shop_project/./src/components/power/Roles.vue?a0df"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\">\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"权限列表\")])],1),_c('el-card',[_c('el-table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.rightList}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"权限名称\",\"prop\":\"authName\"}}),_c('el-table-column',{attrs:{\"label\":\"路径\",\"prop\":\"path\"}}),_c('el-table-column',{attrs:{\"label\":\"权限等级\",\"prop\":\"level\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.level === '0')?_c('el-tag',[_vm._v(\"一级\")]):_vm._e(),(scope.row.level === '1')?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"二级\")]):_vm._e(),(scope.row.level === '2')?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"三级\")]):_vm._e()]}}])})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div>\r\n      <el-breadcrumb separator=\">\">\r\n         <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n         <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n         <el-breadcrumb-item>权限列表</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n      <el-card>\r\n         <el-table border stripe :data=\"rightList\">\r\n            <el-table-column type=\"index\"></el-table-column>\r\n            <el-table-column label=\"权限名称\" prop=\"authName\"></el-table-column>\r\n            <el-table-column label=\"路径\" prop=\"path\"></el-table-column>\r\n            <el-table-column label=\"权限等级\" prop=\"level\">\r\n               <template slot-scope=\"scope\">\r\n                  <el-tag v-if=\"scope.row.level === '0'\">一级</el-tag>\r\n                  <el-tag v-if=\"scope.row.level === '1'\" type=\"success\"\r\n                     >二级</el-tag\r\n                  >\r\n                  <el-tag v-if=\"scope.row.level === '2'\" type=\"warning\"\r\n                     >三级</el-tag\r\n                  >\r\n               </template>\r\n            </el-table-column>\r\n         </el-table>\r\n      </el-card>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n   data() {\r\n      return {\r\n         rightList: [],\r\n      }\r\n   },\r\n   created() {\r\n      this.getRightList()\r\n   },\r\n   methods: {\r\n      async getRightList() {\r\n         const { data: res } = await this.$http.get('rights/list')\r\n         if (res.meta.status !== 200)\r\n            return this.$message.error('获取权限列表失败')\r\n\r\n         this.rightList = res.data\r\n      },\r\n   },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rights.vue?vue&type=template&id=b333c45a&scoped=true&\"\nimport script from \"./Rights.vue?vue&type=script&lang=js&\"\nexport * from \"./Rights.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b333c45a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\">\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_c('el-card',[_c('el-col',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"span\":1,\"gutter:20\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisable = true}}},[_vm._v(\"添加角色\")])],1),_c('el-table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.roleList}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item1,i1){return _c('el-row',{key:item1.id},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',{attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.remveRightByid(scope.row, item1.id)}}},[_vm._v(_vm._s(item1.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,i2){return _c('el-row',{key:item2.id,class:['no-bdtop-bot']},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"type\":\"success\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.remveRightByid(scope.row, item2.id)}}},[_vm._v(_vm._s(item2.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":18}},_vm._l((item2.children),function(item3,i3){return _c('el-tag',{key:item3.id,attrs:{\"type\":\"warning\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.remveRightByid(scope.row, item3.id)}}},[_vm._v(_vm._s(item3.authName))])}),1)],1)}),1)],1)})}}])}),_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}}),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300px\",\"prop\":\"level\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.remvoeRoleById(scope.row.id)}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\",\"icon\":\"el-icon-setting\"},on:{\"click\":function($event){return _vm.showSetRightDialog(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.addDialogVisable,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisable=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.formRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.addForm.roleName),callback:function ($$v) {_vm.$set(_vm.addForm, \"roleName\", $$v)},expression:\"addForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.addForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.addForm, \"roleDesc\", $$v)},expression:\"addForm.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisable = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRole}},[_vm._v(\"确 定 \")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改数据\",\"visible\":_vm.editDialogVisable,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.editDialogVisable=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.formRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.editForm.roleName),callback:function ($$v) {_vm.$set(_vm.editForm, \"roleName\", $$v)},expression:\"editForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.editForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.editForm, \"roleDesc\", $$v)},expression:\"editForm.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisable = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editRoleInfo()}}},[_vm._v(\"确 定 \")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.setRightDialogVisable,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRightDialogVisable=$event},\"close\":function($event){return _vm.SetRightDialogClosed()}}},[_c('el-tree',{ref:\"treeRef\",attrs:{\"data\":_vm.rightList,\"props\":_vm.treeProps,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"default-checked-keys\":_vm.defKeys}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRightDialogVisable = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.allotRights()}}},[_vm._v(\"确 定 \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div>\r\n      <!-- 面包屑 -->\r\n      <el-breadcrumb separator=\">\">\r\n         <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n         <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n         <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n\r\n      <!-- 卡片 -->\r\n      <el-card>\r\n         <!-- 添加 -->\r\n         <el-col :span=\"1\" gutter:20 style=\"margin-bottom: 10px\">\r\n            <el-button type=\"primary\" @click=\"addDialogVisable = true\"\r\n               >添加角色</el-button\r\n            >\r\n         </el-col>\r\n         <!-- 角色列表 -->\r\n         <el-table border stripe :data=\"roleList\">\r\n            <!-- 展开列 -->\r\n            <el-table-column type=\"expand\">\r\n               <template slot-scope=\"scope\">\r\n                  <el-row\r\n                     v-for=\"(item1, i1) in scope.row.children\"\r\n                     :key=\"item1.id\"\r\n                  >\r\n                     <!-- 一级权限 -->\r\n                     <el-col :span=\"5\">\r\n                        <el-tag\r\n                           closable\r\n                           @close=\"remveRightByid(scope.row, item1.id)\"\r\n                           >{{ item1.authName }}</el-tag\r\n                        >\r\n                        <i class=\"el-icon-caret-right\"></i>\r\n                     </el-col>\r\n                     <!-- 二三级权限 -->\r\n                     <el-col :span=\"19\">\r\n                        <el-row\r\n                           v-for=\"(item2, i2) in item1.children\"\r\n                           :key=\"item2.id\"\r\n                           :class=\"['no-bdtop-bot']\"\r\n                        >\r\n                           <el-col :span=\"6\">\r\n                              <el-tag\r\n                                 type=\"success\"\r\n                                 closable\r\n                                 @close=\"remveRightByid(scope.row, item2.id)\"\r\n                                 >{{ item2.authName }}</el-tag\r\n                              >\r\n                              <i class=\"el-icon-caret-right\"></i>\r\n                           </el-col>\r\n                           <el-col :span=\"18\">\r\n                              <el-tag\r\n                                 v-for=\"(item3, i3) in item2.children\"\r\n                                 :key=\"item3.id\"\r\n                                 type=\"warning\"\r\n                                 closable\r\n                                 @close=\"remveRightByid(scope.row, item3.id)\"\r\n                                 >{{ item3.authName }}</el-tag\r\n                              >\r\n                           </el-col>\r\n                        </el-row>\r\n                     </el-col>\r\n                  </el-row>\r\n               </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column type=\"index\"></el-table-column>\r\n            <el-table-column label=\"角色名称\" prop=\"roleName\"></el-table-column>\r\n            <el-table-column label=\"角色描述\" prop=\"roleDesc\"></el-table-column>\r\n            <el-table-column label=\"操作\" width=\"300px\" prop=\"level\">\r\n               <template slot-scope=\"scope\">\r\n                  <!-- 修改 -->\r\n                  <el-button\r\n                     type=\"primary\"\r\n                     size=\"mini\"\r\n                     icon=\"el-icon-edit\"\r\n                     @click=\"showEditDialog(scope.row.id)\"\r\n                     >编辑</el-button\r\n                  >\r\n\r\n                  <!-- 删除 -->\r\n                  <el-button\r\n                     type=\"danger\"\r\n                     size=\"mini\"\r\n                     icon=\"el-icon-delete\"\r\n                     @click=\"remvoeRoleById(scope.row.id)\"\r\n                     >删除</el-button\r\n                  >\r\n\r\n                  <!-- 分配角色 -->\r\n\r\n                  <el-button\r\n                     type=\"warning\"\r\n                     size=\"mini\"\r\n                     icon=\"el-icon-setting\"\r\n                     @click=\"showSetRightDialog(scope.row)\"\r\n                     >分配权限</el-button\r\n                  >\r\n               </template>\r\n            </el-table-column>\r\n         </el-table>\r\n      </el-card>\r\n\r\n      <!-- 添加角色对话框 -->\r\n      <el-dialog\r\n         title=\"添加角色\"\r\n         :visible.sync=\"addDialogVisable\"\r\n         width=\"50%\"\r\n         @close=\"addDialogClosed\"\r\n      >\r\n         <!-- 内容主题区 -->\r\n         <!-- 表单区 -->\r\n         <el-form\r\n            :model=\"addForm\"\r\n            :rules=\"formRules\"\r\n            ref=\"addFormRef\"\r\n            label-width=\"80px\"\r\n         >\r\n            <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n               <el-input v-model=\"addForm.roleName\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n               <el-input v-model=\"addForm.roleDesc\"></el-input>\r\n            </el-form-item>\r\n         </el-form>\r\n         <!-- 按钮区 -->\r\n         <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"addDialogVisable = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"addRole\">确 定 </el-button>\r\n         </span>\r\n      </el-dialog>\r\n\r\n      <!-- 修改用户对话框 -->\r\n      <el-dialog\r\n         title=\"修改数据\"\r\n         :visible.sync=\"editDialogVisable\"\r\n         width=\"30%\"\r\n         @close=\"editDialogClosed\"\r\n      >\r\n         <!-- 内容主体区 -->\r\n         <!-- 表单区 -->\r\n         <el-form\r\n            :model=\"editForm\"\r\n            :rules=\"formRules\"\r\n            ref=\"editFormRef\"\r\n            label-width=\"80px\"\r\n         >\r\n            <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n               <el-input v-model=\"editForm.roleName\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n               <el-input v-model=\"editForm.roleDesc\"></el-input>\r\n            </el-form-item>\r\n         </el-form>\r\n         <!-- 按钮区 -->\r\n         <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"editDialogVisable = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"editRoleInfo()\">确 定 </el-button>\r\n         </span>\r\n      </el-dialog>\r\n\r\n      <!-- 分配权限对话框 -->\r\n      <el-dialog\r\n         title=\"分配权限\"\r\n         :visible.sync=\"setRightDialogVisable\"\r\n         width=\"50%\"\r\n         @close=\"SetRightDialogClosed()\"\r\n      >\r\n         <!-- 内容主题区 -->\r\n         <!-- 树形控件 -->\r\n         <el-tree\r\n            :data=\"rightList\"\r\n            :props=\"treeProps\"\r\n            show-checkbox\r\n            node-key=\"id\"\r\n            default-expand-all\r\n            :default-checked-keys=\"defKeys\"\r\n            ref=\"treeRef\"\r\n         >\r\n         </el-tree>\r\n         <!-- 按钮区 -->\r\n         <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"setRightDialogVisable = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"allotRights()\"\r\n               >确 定\r\n            </el-button>\r\n         </span>\r\n      </el-dialog>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n   data() {\r\n      return {\r\n         roleList: [],\r\n         // 添加角色框可见性\r\n         addDialogVisable: false,\r\n         // 添加角色表单\r\n         addForm: {\r\n            roleName: '',\r\n            roleDesc: '',\r\n         },\r\n\r\n         // 角色id 编辑用\r\n         roleId:'',\r\n         // 树形控件属性绑定对象\r\n         treeProps: {\r\n            label: 'authName',\r\n            children: 'children',\r\n         },\r\n         // 默认选中节点Id值\r\n         defKeys: [],\r\n         // 编辑角色框可见性\r\n         editDialogVisable: false,\r\n         // 编辑表单\r\n         editForm: {},\r\n         \r\n\r\n         // 分配权限框可见性\r\n         setRightDialogVisable: false,\r\n         rightList: [],\r\n\r\n         // 表单规则\r\n         formRules: {\r\n            roleName: [\r\n               {\r\n                  required: true,\r\n                  message: '请输入角色名称',\r\n                  trigger: 'blur',\r\n               },\r\n            ],\r\n            roleDesc: [\r\n               {\r\n                  required: true,\r\n                  message: '请输入角色描述',\r\n                  trigger: 'blur',\r\n               },\r\n            ],\r\n         },\r\n      }\r\n   },\r\n   created() {\r\n      this.getRoleList()\r\n   },\r\n   methods: {\r\n      // 获取角色列表\r\n      async getRoleList() {\r\n         const { data: res } = await this.$http.get('roles')\r\n         if (res.meta.status !== 200)\r\n            return this.$message.error('获取角色列表失败')\r\n\r\n         this.roleList = res.data\r\n      },\r\n      // 添加角色\r\n      addRole() {\r\n         this.$refs.addFormRef.validate(async (valid) => {\r\n            if (!valid) return\r\n            // 发起请求\r\n            const { data: res } = await this.$http.post('roles', this.addForm)\r\n            if (res.meta.status !== 201)\r\n               return this.$message.error('添加角色失败')\r\n            this.$message.success('添加角色成功')\r\n            // 隐藏对话框\r\n            this.addDialogVisable = false\r\n            // 重新获取列表\r\n            this.getRoleList()\r\n         })\r\n      },\r\n      // 监听添加框关闭\r\n      addDialogClosed() {\r\n         this.$refs.addFormRef.resetFields()\r\n      },\r\n\r\n      // 展示编辑角色框\r\n      async showEditDialog(id) {\r\n         const { data: res } = await this.$http.get('roles/' + id)\r\n         if (res.meta.status !== 200)\r\n            return this.$message.error('查询角色数据失败')\r\n         // console.log(res)\r\n         this.editForm = res.data\r\n         this.editDialogVisable = true\r\n      },\r\n      // 编辑角色\r\n      editRoleInfo() {\r\n         this.$refs.editFormRef.validate(async (valid) => {\r\n            if (!valid) return\r\n            // 发起请求\r\n            const form = {\r\n               roleName: this.editForm.roleName,\r\n               roleDesc: this.editForm.roleDesc,\r\n            }\r\n            const { data: res } = await this.$http.put(\r\n               'roles/' + this.editForm.roleId,\r\n               form\r\n            )\r\n            if (res.meta.status !== 200) {\r\n               this.$message.error('更新角色信息失败')\r\n               // console.log(res)\r\n               return\r\n            }\r\n            this.$message.success('更新角色信息成功')\r\n            // 隐藏对话框\r\n            this.editDialogVisable = false\r\n            // 重新获取列表\r\n            this.getRoleList()\r\n         })\r\n      },\r\n      // 监听编辑框关闭\r\n      editDialogClosed() {\r\n         this.$refs.editFormRef.resetFields()\r\n      },\r\n\r\n      // 根据id删除角色\r\n      async remvoeRoleById(id) {\r\n         // 弹窗询问确定\r\n         const confirmRes = await this.$confirm(\r\n            '确定要永久删除该角色?',\r\n            '警告',\r\n            {\r\n               confirmButtonText: '确定',\r\n               cancelButtonText: '取消',\r\n               type: 'warning',\r\n            }\r\n         ).catch((err) => err)\r\n         // 确定confirm 取消cancal\r\n         // 取消删除\r\n         if (confirmRes !== 'confirm') return this.$message.info('已取消删除')\r\n\r\n         // 确定删除\r\n         const { data: deleteRes } = await this.$http.delete('roles/' + id)\r\n         if (deleteRes.meta.status !== 200) {\r\n            return this.$message.error('删除用户失败')\r\n         }\r\n         this.$message.success('删除用户成功')\r\n         // 重新获取列表\r\n         this.getRoleList()\r\n      },\r\n\r\n      // 展示分配权限框\r\n      async showSetRightDialog(role) {\r\n         this.roleId = role.id\r\n         const { data: res } = await this.$http.get('rights/tree')\r\n         if (res.meta.status !== 200)\r\n            return this.$message.error('获取权限列表失败')\r\n\r\n         this.rightList = res.data\r\n\r\n         this.getLeafKeys(role, this.defKeys)\r\n\r\n         this.setRightDialogVisable = true\r\n      },\r\n      // 获取角色所有三级权限id\r\n      getLeafKeys(node, arr) {\r\n         if (!node.children) {\r\n            return arr.push(node.id)\r\n         }\r\n         node.children.forEach((item) => {\r\n            this.getLeafKeys(item, arr)\r\n         })\r\n      },\r\n      // 分配权限\r\n      async allotRights(){\r\n         const keys = [\r\n            ...this.$refs.treeRef.getCheckedKeys(),\r\n            ...this.$refs.treeRef.getHalfCheckedKeys()\r\n         ]\r\n         const idStr= keys.join(',')\r\n\r\n         const {data:res} = await this.$http.post(`roles/${this.roleId}/rights`,{rids:idStr})\r\n\r\n         if(res.meta.status !== 200)return this.$message.error(\"分配权限失败\")\r\n\r\n         this.$message.success('分配权限成功')\r\n         this.getRoleList()\r\n         this.setRightDialogVisable=false\r\n\r\n      },\r\n      // 监听分配权限关闭\r\n      SetRightDialogClosed() {\r\n         this.defKeys=[]\r\n      },\r\n\r\n      // 删除权限\r\n      async remveRightByid(role, rightId) {\r\n         const confirmRes = await this.$confirm('确定要移除该权限?', '警告', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning',\r\n         }).catch((err) => err)\r\n         // 取消删除\r\n         if (confirmRes !== 'confirm') return this.$message.info('已取消移除')\r\n\r\n         // 确定删除\r\n         const { data: res } = await this.$http.delete(\r\n            `roles/${role.id}/rights/${rightId}`\r\n         )\r\n         if (res.meta.status !== 200) {\r\n            return this.$message.error('移除权限失败')\r\n         }\r\n         this.$message.success('移除权限成功')\r\n         // 重新获取列表\r\n         role.children = res.data\r\n      },\r\n   },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-tag {\r\n   margin: 7px;\r\n}\r\n\r\n.el-row {\r\n   border-bottom: 1px solid #eee;\r\n   display: flex;\r\n   align-items: center;\r\n}\r\n.el-row:first-child {\r\n   border-top: 1px solid #eee;\r\n}\r\n.no-bdtop-bot {\r\n   border-top: none !important;\r\n}\r\n.no-bdtop-bot:last-child {\r\n   border-bottom: none !important;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=27d3d784&scoped=true&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Roles.vue?vue&type=style&index=0&id=27d3d784&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27d3d784\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","rightList","scopedSlots","_u","key","fn","scope","row","level","_e","staticRenderFns","data","created","methods","component","staticStyle","on","$event","addDialogVisable","roleList","_l","children","item1","i1","id","remveRightByid","_s","authName","staticClass","item2","i2","class","item3","i3","showEditDialog","remvoeRoleById","showSetRightDialog","addDialogClosed","ref","addForm","formRules","model","value","roleName","callback","$$v","$set","expression","roleDesc","slot","addRole","editDialogVisable","editDialogClosed","editForm","editRoleInfo","setRightDialogVisable","SetRightDialogClosed","treeProps","defKeys","allotRights","roleId","label","required","message","trigger","form","confirmButtonText","cancelButtonText","type","catch","err","getLeafKeys","node","rids","role"],"sourceRoot":""}